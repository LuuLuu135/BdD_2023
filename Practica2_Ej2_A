CREATE DATABASE EJE2;
USE EJE2

CREATE TABLE TURISTA (

Turista_ID int IDENTITY PRIMARY KEY NOT NULL,
Nacionalidad VARCHAR(30),
edad int NOT NULL,
Nombre VARCHAR(30)
); --10

INSERT INTO TURISTA VALUES('Argentino',25,'Juan Perez'); 

SELECT * FROM TURISTA;


CREATE TABLE EMPRESA (

CUIT bigint PRIMARY KEY,
Nombre VARCHAR(30),
Telefono bigint,
Direccion VARCHAR(30)
); 

INSERT INTO EMPRESA VALUES(2209384744,'Aerolineas Argentinas',08001112278,'Avellaneda 3259'); 

SELECT * FROM EMPRESA;

CREATE TABLE VUELO (
ID_Vuelo int IDENTITY PRIMARY KEY NOT NULL,
Fecha_Salida VARCHAR(50),
Destino VARCHAR(30),
Fecha_Regreso VARCHAR(50), 
CUIT BIGINT NOT NULL, 

FOREIGN KEY (CUIT) REFERENCES EMPRESA(CUIT)
);

INSERT INTO VUELO VALUES ('1 FEB 2023','Paris,Francia','20 FEB 2023',2209384744);

SELECT * FROM VUELO;

CREATE TABLE TURISTA_VUELO(

PRIMARY KEY (Turista_ID, ID_Vuelo),
Turista_ID int,
ID_Vuelo int,

FOREIGN KEY(ID_Vuelo) REFERENCES VUELO(ID_Vuelo),
FOREIGN KEY(Turista_ID) REFERENCES TURISTA(Turista_ID)
);

SELECT * FROM TURISTA_VUELO;
